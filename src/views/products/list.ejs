<!DOCTYPE html>
<html lang="es">
    
<%- include('../partials/head.ejs', { 
    css: ["index.css", "partialsheaderfooter.css"],
    title: "TechZone" 
}) %>

<body>
    <%- include('../partials/header') %>

    <main>

        <div>
            <aside class="search-filter">
                <ul> <h3>Categorias:</h3>
                    <li><a href="/productDetail/search?search=Electronica">Electronica</a></li>
                    <li><a href="/productDetail/search?search=Hardware">Hardware</a></li>
                    <li><a href="/productDetail/search?search=Perifericos">Perifericos</a></li>
                    <li><a href="/productDetail/search?search=Varios">Varios</a></li>
                </ul>
                <ul>
                    <li><a href="/productDetail/search?search=Microprocesador"><h3>Microprocesadores</h3></a></li>
                    <li><a href="/productDetail/search?search=Placa%20de%20video"><h3>Placas de video</h3></a></li>
                    <li><a href="/productDetail/search?search=Notebook"><h3>Notebooks</h3></a></li>
                    <li><a href="/productDetail/search?search=Monitores"><h3>Monitores</h3></a></li>
                    <li><a href="/productDetail/search?search=Pc"><h3>Pc</h3></a></li>
                </ul>
                <form action="/search" method="GET">
                    <label for="priceRange">Rango de precios:</label>
                    <input type="range" name="priceRange" id="priceRange" min="0" max="1000000" value="1000000" step="1" />
                    
                    <output for="priceRange" id="priceOutput">0</output>
                    
                    <button type="submit">Buscar</button>
                 </form>
            </aside>
        
            <section class="products-view">
                
                <h2>Resultados</h2>
                <a href="/productDetail/create">
                    <div class="cart">Create</div>
                </a>
                <section class="products">
                    <% products.forEach(product => { %>
                        <a href="/productDetail/<%= product.id %>">
                            <article>
                                <figure class="image-container">
                                    <img src="/img/products/<%= product.image %>" alt="imagen de producto" loading="lazy">
                                </figure>
                                <div>
                                    <div class="precio"> $<%= product.price %> </div>
                                    <% if (product.discount && product.discount > 0) { %>
                                        <span class="descuento"><%= product.discount %> % OFF</span>
                                    <% } %>
                                    <p class="descripciones"><%= product.name %></p>
                                </div>
                                <form action="/productDetail/<%= product.id %>/edit" method="GET">
                                    <button type="submit" class="btn">Editar</button>
                                </form>
                                <details>
                                    <summary>Borrar</summary>
                                    seguro que quiere borrar
                                    <form action="/productDetail/<%= product.id %>?_method=DELETE" method="POST">
                                    <button type="submit" class="btn">Borrar</button>
                                    </form>
                                </details>
                            </article>
                        </a>
                    <% }) %>
                </section>

            </section>
        </div>
        <!-- <section class="list">
            <% products.forEach(product => { %>
                <a class="list-product" href="/productDetail/<%= product.id %>">
                    <article>
                        <figure class="list-image-container">
                            <img class="list-img" src="/img/products/<%= product.image %>" alt="imagen de producto" loading="lazy"></img>
                        </figure>
                        <span>
                           <div class="precio"> $<%= product.price %> </div>
                           <% if (product.discount && product.discount > 0) { %>
                              <span class="descuento"><%= product.discount %> % OFF</span>
                           <% } %>
                           <p class="descripciones"><%= product.name %></p>
                        </span>
                        <form action="/productDetail/<%= product.id %>/edit" method="GET">
                           <button type="submit" class="btn">Editar</button>
                        </form>
                        <details>
                           <summary>Borrar</summary>
                           seguro que quiere borrar
                           <form action="/productDetail/<%= product.id %>?_method=DELETE" method="POST">
                              <button type="submit" class="btn">Borrar</button>
                           </form>
                        </details>
                    </article>
                </a>
            <% }) %>
        </section> -->

    </main>

    <%- include('../partials/footer') %>
</body>

</html>